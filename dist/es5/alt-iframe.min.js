(function(t){function e(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function r(t,r){return"*"==(""+r)[0]?e(t).indexOf((""+r).toLowerCase().substring(1))>=0:(""+r).toLowerCase().indexOf(e(t))>=0}function n(t){return r(t,"array")}function i(t){return"object"==typeof t||"function"==typeof t}function o(t){return r(t,"undefined")}function a(t){return r(t,"function")}function s(t){return(t||"").trim().replace(/]/g,"").replace(/(\[)|(\\)|(\/)/g,".").replace(/(\.+)/g,".").replace(/\.+$/,"").replace(/^\.+/,"")}function c(t,e,r){if(i(t)&&e){var u=e.split("|").map(function(t){return t.trim()});e=u.shift();var l,f,h=u.join("|"),p=0,d=s(e).split("."),g=d.length;for(f=t;p<g;p++)if(n(f))f=f[parseInt(d[p],10)];else{if(!i(f)){f=l;break}f=f[d[p].trim()]}return o(f)?h?c(t,h,r):a(r)?r.call(t,t,e):r:f}return 3==arguments.length?a(r)?r.call(t,t,e):r:t}function u(t,e,i){var s,u=t;if(r(t,"string")){var l=t.indexOf("("),f=(l>0?t.substring(0,l):t).replace(/\s/g,"");f&&(u=c(window,f))}if(u&&a(u))try{s=u.apply(e,o(i)?[]:n(i)?i:[i])}catch(t){console.error("Error calling function:",u,",",t)}else console.error("Invalid function:",t);return s}function l(t,e){var r={},n="string"==typeof t?h(t):t,i=function(t,e){r.hasOwnProperty(t)?(Array.isArray(r[t])||(r[t]=r[t]?[r[t]]:[]),e&&r[t].push(e)):r[t]=e};return[].slice.call(n.elements).forEach(function(t){!t.name||t.disabled||t.matches("form fieldset[disabled] *")||("checkbox"!==t.type&&"radio"!==t.type||t.checked)&&("SELECT"===t.tagName?("select-multiple"===t.type&&t.selectedIndex>=0&&i(t.name,[]),p("option",t).forEach(function(e){e.selected&&i(t.name,e.value)})):i(t.name,t.value))}),e?f(r):r}function f(t){var e="";return Object.keys(t).forEach(function(r){Array.isArray(t[r])?t[r].forEach(function(t){e+="&"+r+"="+t}):e+="&"+r+"="+t[r]}),encodeURI(e)}function h(t,e){return d(t,e)[0]}function p(t,e){return d(t,e)}function d(t,e){return e="string"==typeof e&&B.querySelector(e)||e||B,Array.prototype.slice.call(e.querySelectorAll(t))}function g(t,e,r){t.setAttribute(r,t.getAttribute(e)),t.removeAttribute(e)}function b(t){var e=B.createElement("script");e.text=t.innerHTML;for(var r=t.attributes.length-1;r>=0;r--)e.setAttribute(t.attributes[r].name,t.attributes[r].value);return e}function m(t,e,r){var n,i,o,a,s,c=oldSrc=(t.getAttribute(e)||"").trim();2===arguments.length&&(r=t.closest("[x-src]")),c&&r&&!/^(\/\/|http:\/\/|https:\/\/)/i.test(c)&&(s=S(r.getAttribute("x-src")),n=(G||s).replace(/^\/+/,""),i=new RegExp("^((.){0,2}/)*"+n),i.test(c)?c=c.replace(i,G||s):"."===c[0]&&(o=r&&r.getAttribute("x-src")||"",a=o.substring(0,o.lastIndexOf("/")+1)||(G||s)+"/",c=(a+c).replace(/\/\.?\//,"/"))),c!==oldSrc&&t.setAttribute(e,c)}function A(t,e){d("script:not([processed])",t).forEach(function(t){t.setAttribute("processed",""),e&&t.setAttribute("await","");var r=b(t);if(r.hasAttribute("src")){m(r,"src",t.closest("[x-src]"));var n=r.getAttribute("src");!/\.js$/i.test(n)&&r.setAttribute("src",n+".js");var i=!r.hasAttribute("await");!e&&i?t.parentNode.replaceChild(r,t):(g(t,"src","x-src"),L(r))}else t.parentNode.replaceChild(r,t)})}function v(t){d('link[rel="stylesheet"][href]:not([processed])',t).forEach(function(t){m(t,"href"),t.setAttribute("processed","")}),d("img[src]:not([processed])",t).forEach(function(t){!/^data:/i.test(t.getAttribute("src"))&&m(t,"src"),t.setAttribute("processed","")})}function E(){var t,e=(B.body.getAttribute("hash-error")||"").toLowerCase(),r=K.origin+K.pathname+K.search;"url"==e?(t="Page_route["+H.substring(1)+"]_not_found!_Redirected_to_this_page_root.",r=K.origin+K.pathname+"?_error="+t+K.search.replace(/^\?/,"&")):(t="Page route[#"+H.substring(1)+"] not found! Redirecting to this page root.",alert(t)),K.href=r}function y(t,e){if(Y)if(t=t||H,t){var r=d('[url-hash="'+t+'"][x-target^="#"],[href="'+t+'"]');if(r.length)e&&r[0].setAttribute("skip-hash-update","1"),(!e||V&&e==H)&&(H=""),P=z,C.call(r[0],!0,e);else if(!U)if(H.indexOf(Q)>0){var n=(W&&W.split(Q)||[]).length,i=J[n];i||n<=J.length?(W+=(W?Q:"")+i,V=d('[url-hash="'+W+'"][x-target^="#"]').length?0:250,setTimeout(function(){y(W,H)},V)):E()}else if(!N().length){var o=h(H);o?(o.scrollIntoView(!0),H=""):E()}}else{var a=d("[skip-on-hash]");a.length&&(a.forEach(function(t){t.removeAttribute("skip-on-hash")}),j())}}function x(t,e){U--;var r=t.getAttribute("x-js");if(r&&(e+='<script src="'+r+'"></script>',t.removeAttribute("x-js")),"SCRIPT"==t.tagName){if(e.trim()){var n=B.createElement("script");n.id=(new Date).getMilliseconds(),n.text=e,B.head.appendChild(n).parentNode.removeChild(n)}}else{var i=t.hasAttribute("replace")||t.tagName.indexOf("REPLACE")>=0,o=i?t.parentNode:t,a=i?"outerHTML":"innerHTML",s=t.hasAttribute("await");e=e||"",t[a]=e,v(o),A(o,s),j(o)}y()}function w(){var t=this;if(4==t.readyState){var e=t.status,r=t.method||"GET",n=e>=200&&e<300||304==e,i=n?t.responseText:"Could not "+r+" "+t.reqUrl;n?t.onSuccess&&(i=u(t.onSuccess,t,[i,e,t])):t.onError&&(i=u(t.onError,t,[i,e,t])),o(i)||x(this.targetEl,i)}}function S(t){var e="";if(t.indexOf("/")>=0){var r=t.indexOf("/"),n=t.indexOf("/",r+1);e=("/"===t[0]||"."===t[0])&&n>r?t.substring(0,n):t.substring(0,r)}return e}function O(t){"?"===G&&t.indexOf("/")>=0&&(G=S(t))}function T(t){var e,r,n=(t||"").trim(),i="";if(!/^(\/\/|http:\/\/|https:\/\/)/i.test(n)&&(i=/\+$/.test(n)?"+":"",i&&(n=n.substring(0,n.length-1)),O(n),G&&(/^[^a-z0-9_\.\/]/gi.test(n[0])?n=n.substring(1):(e=G.replace(/^\/+/,""),r=new RegExp("^((.){0,2}/)*"+e),n=r.test(n)?n.replace(r,G):(G+"/"+n).replace(/\/\.?\//,"/"))),I&&!new RegExp(I+"$").test(n)))if(/\/\/$/.test(t)){var o=n.split("/"),a=o[o.length-2];n=n+a+I}else"/"!==n[n.length-1]&&(n+=I);return n+i}function L(t,e,r){if(r=r||{method:"GET"},e=T(e||t.getAttribute("src")),t.setAttribute("x-src",e),t.removeAttribute("src"),e){U++,/\+$/.test(e)&&(t.setAttribute("x-js",e.replace(/\.[a-z]{3,4}\+$/,".js")),e=e.substring(0,e.length-1));var n=r.method||"GET",i=r.data,o={}.toString.call(i).slice(8,-1).toLowerCase(),a="string"==o?i:"";i&&("GET"==n?("object"===o&&(a=f(i)),e=e+(a&&e.indexOf("?")<0?"?":"")+a,e=e.replace(/\?\&/,"?").replace(/\&\&/g,"&")):"object"===o&&(i=JSON.stringify(i)));var s=new XMLHttpRequest;s.targetEl=t,s.method=n,s.onSuccess=r.onSuccess,s.onError=r.onError,s.reqUrl=e,s.onreadystatechange=w,s.open(n,e,!t.hasAttribute("await")),i?s.send(i):s.send()}}function k(t){if(Y){if(!t.getAttribute("skip-hash-update")){var e=t.getAttribute("url-hash");if("#"!=e&&P!=e){P=e;try{history.pushState(null,e,e)}catch(t){}}}t.removeAttribute("skip-hash-update")}}function C(t,e){var r=this,n="FORM"==r.tagName;if(t&&e&&!n)r.click();else{if(n&&!r.checkValidity())return r.reportValidity(),!1;var i=r.getAttribute("if");if(i){var o=u(i,r);if(!o)return!1}var a=h(r.getAttribute("x-target"));if(a){a[r.hasAttribute("replace")?"setAttribute":"removeAttribute"]("replace",""),r.hasAttribute("await")&&a.setAttribute("await",""),r.hasAttribute("async")&&a.removeAttribute("await",""),n||k(r);var s=r.getAttribute("x-href").substring(1);if(/^[! ]/.test(s)&&(s=s.substring(1).trim()),n){s=s||r.getAttribute("action");var c=r.getAttribute("method")||"GET",f=r.hasAttribute("form-data")?"FormData":"JSON",p="GET"==c?l(r,!0):/FormData/gi.test(f)?new FormData(r):l(r),d=r.onSuccess||r.getAttribute("onsuccess")||"",g=r.onError||r.getAttribute("onerror")||"",b={method:c,data:p,onSuccess:d,onError:g};r.onSuccess="",r.onError="",L(a,s,b)}else L(a,s)}else console.warn("Target element not found. Invalid target specified in element",r)}}function N(t){return t=t||B,d("[src]"+"audio embed iframe img input script source track video [processed] [skip-on-hash]".split(" ").map(function(t){return":not("+t+")"}).join(""),t)}function j(t){t=t||B;var e=N(t);e.forEach(function(t){m(t,"src"),t.setAttribute("processed",""),L(t)}),d("form:not([onsubmit]):not([href])",t).forEach(function(t){!t.getAttribute("action")&&t.setAttribute("onsubmit","return false;")}),d('form[action][target^="#"]',t).forEach(function(t){var e=t.getAttribute("action");e&&(t.setAttribute("href","#"+e.replace(/^#+/,"")),!t.hasAttribute("onsubmit")&&t.setAttribute("onsubmit","return false;"))}),d('[href^="#"][target^="#"]',t).forEach(function(t){g(t,"target","x-target"),g(t,"href","x-href"),t.setAttribute("href","javascript:;");var e=t.getAttribute("url-hash")||t.getAttribute("x-href");!/^#/.test(e)&&(e="#"+e),/^#[! ]+/.test(e)&&(e="#"),e=e.replace(/[+ ]/g,"").replace(new RegExp("\\"+Q+"+$"),""),t.setAttribute("url-hash",e);var r="FORM"==t.tagName,n=r?"submit":"click",i=(t.getAttribute("on")||n).replace(/[^a-z]/gi,"_");r&&!t.getAttribute("onsubmit")&&t.setAttribute("onsubmit","return false;"),i.split("_").forEach(function(e){e=e.trim().toLowerCase(),e.length>2&&(e=e.replace(/^on/,""),t.addEventListener(e,C))})}),!e.length&&q()}function R(){if(4==this.readyState){var t=this.status,e=t>=200&&t<300||304==t?this.responseText:'{"error":"Failed: [GET]'+this.reqUrl+'", "status": '+t+"}";this.callbackFn(JSON.parse(e))}}function M(t,e){var r=new XMLHttpRequest;r.reqUrl=t,r.callbackFn=e,r.onreadystatechange=R,r.open("GET",t),r.send()}function _(t,e,r){var n=d(e)[0];n?("function"==typeof r&&Z.push(r),L(n,t)):console.error("Target container not found.",e)}function F(t,e){e=e||{method:"",url:"",target:"",onSuccess:"",onError:""};var r=h(t);if(r){e.method&&r.setAttribute("method",e.method),e.url&&r.setAttribute("x-href","#"+e.url.replace(/^#+/,"")),e.target&&r.setAttribute("x-target",e.target),e.onSuccess&&(r.onSuccess=e.onSuccess),e.onError&&(r.onError=e.onError);var n=document.createEvent("Event");n.initEvent("submit",!0,!0),r.dispatchEvent(n)}else console.error("Form NOT FOUND!",t)}function $(t,e){"function"==typeof t&&(Z.push({fn:t,delay:e||0}),q())}function q(t){U||N().length||!Z.length||void 0!==t&&!t||(X=Z.shift(),setTimeout(function(){var e=X.fn(t);void 0!==e&&!e&&(Z=[]),q(e)},X.delay))}function D(){U=0,H=K.hash||"",J=Y&&H&&H.split(Q)||[],G=(B.body.getAttribute("components-loc")||"").replace(/^\.\//,"").replace(/\/+$/g,"").trim(),I=(B.body.getAttribute("components-ext")||"").trim(),j(),setTimeout(function(){new MutationObserver(function(t){t&&t[0]&&"childList"===t[0].type&&t[0].target&&j(t[0].target)}).observe(B,{childList:!0,subtree:!0})})}var G,I,U,H,P,z,J,V,X,B=document,K=B.location,Q="/",W="",Y="off"!=(B.body.getAttribute("url-hash")||"").toLowerCase(),Z=[];Y&&(window.onhashchange=function(){z=K.hash||"",z?z!=P&&(H=z,y()):(K.href.indexOf("#")<0&&K.reload(),P="#")}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),"complete"==B.readyState||"loading"!=B.readyState&&!B.documentElement.doScroll?D():B.addEventListener("DOMContentLoaded",D),t.alt=t.aif={load:_,onReady:$,getData:M,formData:l,submitForm:F}})(this);