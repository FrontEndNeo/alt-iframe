(function(t){function e(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function r(t,r){return"*"==(""+r)[0]?e(t).indexOf((""+r).toLowerCase().substring(1))>=0:(""+r).toLowerCase().indexOf(e(t))>=0}function n(t){return r(t,"array")}function i(t){return"object"==typeof t||"function"==typeof t}function o(t){return r(t,"undefined")}function s(t){return r(t,"function")}function a(t){return(t||"").trim().replace(/]/g,"").replace(/(\[)|(\\)|(\/)/g,".").replace(/(\.+)/g,".").replace(/\.+$/,"").replace(/^\.+/,"")}function c(t,e,r){if(i(t)&&e){let u=e.split("|").map(t=>t.trim());e=u.shift();let l,f,h=u.join("|");{let r=0,o=a(e).split("."),s=o.length;for(f=t;r<s;r++)if(n(f))f=f[parseInt(o[r],10)];else{if(!i(f)){f=l;break}f=f[o[r].trim()]}}return o(f)?h?c(t,h,r):s(r)?r.call(t,t,e):r:f}return 3==arguments.length?s(r)?r.call(t,t,e):r:t}function u(t,e,i){let a,u=t;if(r(t,"string")){let e=t.indexOf("("),r=(e>0?t.substring(0,e):t).replace(/\s/g,"");r&&(u=c(window,r))}if(u&&s(u))try{a=u.apply(e,o(i)?[]:n(i)?i:[i])}catch(t){console.error("Error calling function:",u,",",t)}else console.error("Invalid function:",t);return a}function l(t,e){let r={},n="string"==typeof t?h(t):t,i=(t,e)=>{r.hasOwnProperty(t)?(Array.isArray(r[t])||(r[t]=r[t]?[r[t]]:[]),e&&r[t].push(e)):r[t]=e};return[].slice.call(n.elements).forEach(t=>{!t.name||t.disabled||t.matches("form fieldset[disabled] *")||("checkbox"!==t.type&&"radio"!==t.type||t.checked)&&("SELECT"===t.tagName?("select-multiple"===t.type&&t.selectedIndex>=0&&i(t.name,[]),g("option",t).forEach(e=>{e.selected&&i(t.name,e.value)})):i(t.name,t.value))}),e?f(r):r}function f(t){let e="";return Object.keys(t).forEach(r=>{Array.isArray(t[r])?t[r].forEach(t=>{e+="&"+r+"="+t}):e+="&"+r+"="+t[r]}),encodeURI(e)}function h(t,e){return d(t,e)[0]}function g(t,e){return d(t,e)}function d(t,e){return e="string"==typeof e&&B.querySelector(e)||e||B,Array.prototype.slice.call(e.querySelectorAll(t))}function p(t,e,r){t.setAttribute(r,t.getAttribute(e)),t.removeAttribute(e)}function b(t){let e=B.createElement("script");e.text=t.innerHTML;for(let r=t.attributes.length-1;r>=0;r--)e.setAttribute(t.attributes[r].name,t.attributes[r].value);return e}function m(t,e,r){let n,i,o,s,a,c=oldSrc=(t.getAttribute(e)||"").trim();2===arguments.length&&(r=t.closest("[x-src]")),c&&r&&!/^(\/\/|http:\/\/|https:\/\/)/i.test(c)&&(a=O(r.getAttribute("x-src")),n=(M||a).replace(/^\/+/,""),i=new RegExp("^((.){0,2}/)*"+n),i.test(c)?c=c.replace(i,M||a):"."===c[0]&&(o=r&&r.getAttribute("x-src")||"",s=o.substring(0,o.lastIndexOf("/")+1)||(M||a)+"/",c=(s+c).replace(/\/\.?\//,"/"))),c!==oldSrc&&t.setAttribute(e,c)}function A(t,e){d("script:not([processed])",t).forEach(t=>{t.setAttribute("processed",""),e&&t.setAttribute("await","");let r=b(t);if(r.hasAttribute("src")){m(r,"src",t.closest("[x-src]"));let n=r.getAttribute("src");!/\.js$/i.test(n)&&r.setAttribute("src",n+".js");let i=!r.hasAttribute("await");!e&&i?t.parentNode.replaceChild(r,t):(p(t,"src","x-src"),T(r))}else t.parentNode.replaceChild(r,t)})}function E(t){d('link[rel="stylesheet"][href]:not([processed])',t).forEach(t=>{m(t,"href"),t.setAttribute("processed","")}),d("img[src]:not([processed])",t).forEach(t=>{!/^data:/i.test(t.getAttribute("src"))&&m(t,"src"),t.setAttribute("processed","")})}function y(){let t,e=(B.body.getAttribute("hash-error")||"").toLowerCase(),r=K.origin+K.pathname+K.search;"url"==e?(t="Page_route["+z.substring(1)+"]_not_found!_Redirected_to_this_page_root.",r=K.origin+K.pathname+"?_error="+t+K.search.replace(/^\?/,"&")):(t="Page route[#"+z.substring(1)+"] not found! Redirecting to this page root.",alert(t)),K.href=r}function x(t,e){if(X)if(t=t||z,t){let r=d('[url-hash="'+t+'"][x-target^="#"],[href="'+t+'"]');if(r.length)e&&r[0].setAttribute("skip-hash-update","1"),(!e||J&&e==z)&&(z=""),H=V,C.call(r[0],!0,e);else if(!P)if(z.indexOf(Q)>0){let t=(W&&W.split(Q)||[]).length,e=q[t];e||t<=q.length?(W+=(W?Q:"")+e,J=d('[url-hash="'+W+'"][x-target^="#"]').length?0:250,setTimeout(()=>{x(W,z)},J)):y()}else if(!j().length){let t=h(z);t?(t.scrollIntoView(!0),z=""):y()}}else{let t=d("[skip-on-hash]");t.length&&(t.forEach(t=>{t.removeAttribute("skip-on-hash")}),N())}}function w(t,e){P--;let r=t.getAttribute("x-js");if(r&&(e+='<script src="'+r+'"></script>',t.removeAttribute("x-js")),"SCRIPT"==t.tagName){if(e.trim()){let t=B.createElement("script");t.id=(new Date).getMilliseconds(),t.text=e,B.head.appendChild(t).parentNode.removeChild(t)}}else{let r=t.hasAttribute("replace")||t.tagName.indexOf("REPLACE")>=0,n=r?t.parentNode:t,i=r?"outerHTML":"innerHTML",o=t.hasAttribute("await");e=e||"",t[i]=e,E(n),A(n,o),N(n)}x()}function v(t,e,r){o(t)?(t="Could not "+r.method+" "+e.url,r.onError&&(t=u(r.onError,null,[t,e.status,e]))):r.onSuccess&&(t=u(r.onSuccess,null,[t,e.status,e])),o(t)||w(r.targetEl,t)}function O(t){let e="";if(t.indexOf("/")>=0){let r=t.indexOf("/"),n=t.indexOf("/",r+1);e=("/"===t[0]||"."===t[0])&&n>r?t.substring(0,n):t.substring(0,r)}return e}function S(t){"?"===M&&t.indexOf("/")>=0&&(M=O(t))}function k(t){let e,r,n=(t||"").trim(),i="";if(!/^(\/\/|http:\/\/|https:\/\/)/i.test(n)&&(i=/\+$/.test(n)?"+":"",i&&(n=n.substring(0,n.length-1)),S(n),M&&(/^[^a-z0-9_\.\/]/gi.test(n[0])?n=n.substring(1):(e=M.replace(/^\/+/,""),r=new RegExp("^((.){0,2}/)*"+e),n=r.test(n)?n.replace(r,M):(M+"/"+n).replace(/\/\.?\//,"/"))),G&&!new RegExp(G+"$").test(n)))if(/\/\/$/.test(t)){let t=n.split("/"),e=t[t.length-2];n=n+e+G}else"/"!==n[n.length-1]&&(n+=G);return n+i}function T(t,e,r){if(r=r||{method:"GET"},e=k(e||t.getAttribute("src")),t.setAttribute("x-src",e),t.removeAttribute("src"),e){P++,/\+$/.test(e)&&(t.setAttribute("x-js",e.replace(/\.[a-z]{3,4}\+$/,".js")),e=e.substring(0,e.length-1));let n=r.method||"GET",i=r.data,o={}.toString.call(i).slice(8,-1).toLowerCase(),s="string"==o?i:"";i&&("GET"==n?("object"===o&&(s=f(i)),e=e+(s&&e.indexOf("?")<0?"?":"")+s,e=e.replace(/\?\&/,"?").replace(/\&\&/g,"&")):"object"===o&&(i=JSON.stringify(i))),r.targetEl=t,r.method=n;let a={method:n};if(i&&(a.body=i),t.hasAttribute("await"))(async()=>{let t;const n=await fetch(e,a).catch(t=>null);n&&n.ok&&(t=await n.text()),v(t,n,r)})();else{let t;fetch(e,a).then(e=>{let r;return t=e,e&&e.ok&&(r=e.text()),r}).then(e=>{v(e,t,r)}).catch(t=>null)}}}function L(t){if(X){if(!t.getAttribute("skip-hash-update")){let e=t.getAttribute("url-hash");if("#"!=e&&H!=e){H=e;try{history.pushState(null,e,e)}catch(t){}}}t.removeAttribute("skip-hash-update")}}function C(t,e){let r=this,n="FORM"==r.tagName;if(t&&e&&!n)return void r.click();if(n&&!r.checkValidity())return r.reportValidity(),!1;let i=r.getAttribute("if");if(i){let t=u(i,r);if(!t)return!1}let o=h(r.getAttribute("x-target"));if(o){o[r.hasAttribute("replace")?"setAttribute":"removeAttribute"]("replace",""),r.hasAttribute("await")&&o.setAttribute("await",""),r.hasAttribute("async")&&o.removeAttribute("await",""),n||L(r);let t=r.getAttribute("x-href").substring(1);if(/^[! ]/.test(t)&&(t=t.substring(1).trim()),n){t=t||r.getAttribute("action");let e=r.getAttribute("method")||"GET",n=r.hasAttribute("form-data")?"FormData":"JSON",i="GET"==e?l(r,!0):/FormData/gi.test(n)?new FormData(r):l(r),s=r.onSuccess||r.getAttribute("onsuccess")||"",a=r.onError||r.getAttribute("onerror")||"",c={method:e,data:i,onSuccess:s,onError:a};r.onSuccess="",r.onError="",T(o,t,c)}else T(o,t)}else console.warn("Target element not found. Invalid target specified in element",r)}function j(t){return t=t||B,d("[src]"+"audio embed iframe img input script source track video [processed] [skip-on-hash]".split(" ").map(function(t){return":not("+t+")"}).join(""),t)}function N(t){t=t||B;let e=j(t);e.forEach(t=>{m(t,"src"),t.setAttribute("processed",""),T(t)}),d("form:not([onsubmit]):not([href])",t).forEach(t=>{!t.getAttribute("action")&&t.setAttribute("onsubmit","return false;")}),d('form[action][target^="#"]',t).forEach(t=>{let e=t.getAttribute("action");e&&(t.setAttribute("href","#"+e.replace(/^#+/,"")),!t.hasAttribute("onsubmit")&&t.setAttribute("onsubmit","return false;"))}),d('[href^="#"][target^="#"]',t).forEach(t=>{p(t,"target","x-target"),p(t,"href","x-href"),t.setAttribute("href","javascript:;");let e=t.getAttribute("url-hash")||t.getAttribute("x-href");!/^#/.test(e)&&(e="#"+e),/^#[! ]+/.test(e)&&(e="#"),e=e.replace(/[+ ]/g,"").replace(new RegExp("\\"+Q+"+$"),""),t.setAttribute("url-hash",e);let r="FORM"==t.tagName,n=r?"submit":"click",i=(t.getAttribute("on")||n).replace(/[^a-z]/gi,"_");r&&!t.getAttribute("onsubmit")&&t.setAttribute("onsubmit","return false;"),i.split("_").forEach(e=>{e=e.trim().toLowerCase(),e.length>2&&(e=e.replace(/^on/,""),t.addEventListener(e,C))})}),!e.length&&D()}function R(t,e){return fetch(t).then(e=>{let r=e.status;return e.ok&&(r>=200&&r<300||304==r)?e.json():{error:"Failed: [GET]"+t,status:r}}).then(t=>e(t)).catch(r=>e({error:"Failed: [GET]"+t,e:r}))}function _(t,e,r){let n=d(e)[0];n?("function"==typeof r&&Y.push(r),T(n,t)):console.error("Target container not found.",e)}function F(t,e){e=e||{method:"",url:"",target:"",onSuccess:"",onError:""};let r=h(t);if(r){e.method&&r.setAttribute("method",e.method),e.url&&r.setAttribute("x-href","#"+e.url.replace(/^#+/,"")),e.target&&r.setAttribute("x-target",e.target),e.onSuccess&&(r.onSuccess=e.onSuccess),e.onError&&(r.onError=e.onError);let t=document.createEvent("Event");t.initEvent("submit",!0,!0),r.dispatchEvent(t)}else console.error("Form NOT FOUND!",t)}function $(t,e){"function"==typeof t&&(Y.push({fn:t,delay:e||0}),D())}function D(t){P||j().length||!Y.length||void 0!==t&&!t||(U=Y.shift(),setTimeout(()=>{let e=U.fn(t);void 0!==e&&!e&&(Y=[]),D(e)},U.delay))}function I(){P=0,z=K.hash||"",q=X&&z&&z.split(Q)||[],M=(B.body.getAttribute("components-loc")||"").replace(/^\.\//,"").replace(/\/+$/g,"").trim(),G=(B.body.getAttribute("components-ext")||"").trim(),N(),setTimeout(function(){new MutationObserver(t=>{t&&t[0]&&"childList"===t[0].type&&t[0].target&&N(t[0].target)}).observe(B,{childList:!0,subtree:!0})})}let M,G,P,z,H,V,q,J,U,B=document,K=B.location,Q="/",W="",X="off"!=(B.body.getAttribute("url-hash")||"").toLowerCase(),Y=[];X&&(window.onhashchange=function(){V=K.hash||"",V?V!=H&&(z=V,x()):(K.href.indexOf("#")<0&&K.reload(),H="#")}),"complete"==B.readyState||"loading"!=B.readyState&&!B.documentElement.doScroll?I():B.addEventListener("DOMContentLoaded",I),t.alt=t.aif={load:_,onReady:$,getData:R,formData:l,submitForm:F}})(this);